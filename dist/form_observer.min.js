!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.form_observer=t():e.form_observer=t()}(window,function(){return r={},o.m=n=[function(e,t){"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t})},function(e,t){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)})},function(e,t){function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(n.prototype=window.Event.prototype,window.CustomEvent=n)},function(e,t){"function"!=typeof Object.entries&&(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r})},function(e,t,n){"use strict";n.r(t);function s(e){if(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console).log.apply(t,r)}}n(0),n(1),n(2),n(3);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._list=[],this.type="radio",this.localName="input",this.add(e)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"add",value:function(e){this._list.push(e)}},{key:"dispatchEvent",value:function(e){var t=this.checkedRadio;t&&t.dispatchEvent(e)}},{key:"addEventListener",value:function(t,n,r){this._list.forEach(function(e){e.addEventListener(t,n,r)})}},{key:"checkedRadio",get:function(){return this._list.filter(function(e){return e.checked})[0]}},{key:"value",get:function(){var e=this.checkedRadio;return!!e&&e.value},set:function(t){var e=this._list.filter(function(e){return e.value===t})[0];e?e.checked=!0:console.warn("The specified value was not found in the required RadioGroup.")}},{key:"checked",get:function(){return!!this.checkedRadio}}],[{key:"parse",value:function(e){return e}}]),t}();function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._settings={controlsSelector:['input:not([type="button"]):not([type="submit"]):not([type="reset"])',"textarea","select"],triggerChangeOnSetter:!1,consoleVerbose:!1},t&&Object.assign(this._settings,t),this._target=e,this._controls={},this._data={},this._parseControls()}return function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(n,[{key:"_parseControls",value:function(){var i=this;this._target.querySelectorAll(this._settings.controlsSelector.join(",")).forEach(function(e){var t=i._getControlType(e),n=e.name,r=i._getControlValue(e);if(n){if(i._data["_"+n]=r||(i._data["_"+n]||""),"radio"===t){var o=a.parse(i._controls["_"+n]);o?o.add(e):i._controls["_"+n]=new a(e)}else i._controls["_"+n]=e;i._defineMethods(n),i._addEventListeners(e),i._extendValueProperty(e,t,n)}})}},{key:"_addEventListeners",value:function(e){var r=this,t="input";switch(this._getControlType(e)){case"radio":case"checkbox":case"select":t="change"}e.addEventListener(t,function(e){if(!e.selfTriggered){var t=e.target,n=r._getControlValue(t);s(r._settings.consoleVerbose,"OnControlInput"),r[t.name]=n}})}},{key:"_defineMethods",value:function(e){e in this||Object.defineProperty(this,e,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){i(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this._createGetter(e),{},this._createSetter(e)))}},{key:"_extendValueProperty",value:function(e,t,n){var r,o=this;["select","radio","checkbox"].includes(t)||(r=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"),Object.defineProperty(Object.getPrototypeOf(e),"value",{set:function(e){return o._data[n]=e,r.set.call(this,e)}}))}},{key:"_createGetter",value:function(e){var t=this;return{get:function(){return s(t._settings.consoleVerbose,"Getter"),t._data["_"+e]}}}},{key:"_createSetter",value:function(t){var n=this;return{set:function(e){n._data["_"+t]!==e&&(s(n._settings.consoleVerbose,"Setter"),n._data["_"+t]=e,n._setControlValue(n._controls["_"+t],e))}}}},{key:"_getControlValue",value:function(e){var t;switch(this._getControlType(e)){case"radio":case"checkbox":t=!!e.checked&&e.value;break;default:t=e.value}return t}},{key:"_getControlType",value:function(e){var t=e.localName.toLowerCase();return"input"===t&&(t=e.type),t}},{key:"_setControlValue",value:function(e,t,n){var r=2<arguments.length&&void 0!==n&&n,o=this._getControlType(e);if(this._getControlValue(e)!==t){switch(o){case"radio":e.value=t;break;case"checkbox":e.checked=!!t;break;case"select":e.value=t,this._data["_"+e.name]=e.value;break;default:e.value=t}if(s(this._settings.consoleVerbose,"SetControlValue"),this._settings.triggerChangeOnSetter&&!r){var i=new CustomEvent("change",{bubbles:!0});i.selfTriggered=!0,s(this._settings.consoleVerbose,"DispatchChangeEvent"),e.dispatchEvent(i)}}}},{key:"forEach",value:function(t){var n=this;Object.keys(this._controls).forEach(function(e){t(n._controls[e],e.replace("_",""))})}},{key:"assign",value:function(t){var n=this,r=[];Object.keys(t).forEach(function(e){"_"+e in n._data?n[e]=t[e]:r.push(e)}),0<r.length&&console.warn("The folowing fields weren't filled because they weren't found in the specified target.\n",r)}},{key:"getItemAt",value:function(e){return Object.values(this._controls)[e]}},{key:"getControl",value:function(e){return s(this._settings.consoleVerbose,"getControl("+e+")"),this._controls["_"+e]}},{key:"toJSON",value:function(e){var t=0<arguments.length&&void 0!==e&&e,n={};return Object.entries(this._data).forEach(function(e){n[e[0].replace("_","")]=e[1]}),t?n:JSON.stringify(n)}}]),n}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"FormObserver",function(){return f});var f=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._settings={prefix:"fo",consoleVerbose:!1,triggerChangeOnSetter:!1,controlsSelector:["input:not([type='button']):not([type='submit']):not([type='reset'])","textarea","select"]},e&&Object.assign(this._settings,e),t)return this.init(t,n)}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(r,[{key:"init",value:function(e,t){if(e)return e[this._settings.prefix]=this.serializeControls(e),t&&this.fillForm(e[this._settings.prefix],t),e[this._settings.prefix];console.error("No valid target provided")}},{key:"serializeControls",value:function(e){return new u(e,this._settings)}},{key:"fillForm",value:function(e,t){e.assign(t)}},{key:"toJSON",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t;return e[this._settings.prefix]?e[this._settings.prefix].toJSON(n):{}}},{key:"settings",get:function(){return this._settings}}]),r}();t.default=f}],o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4);function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r});